<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX 終極攻略與完整使用手冊 v2.0</title>
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --bg-light: #f8f9fa;
            --bg-white: #ffffff;
            --text-dark: #212529;
            --border-color: #dee2e6;
            --code-bg: #eef1f4;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Microsoft JhengHei", sans-serif;
            line-height: 1.8;
            background-color: var(--bg-light);
            color: var(--text-dark);
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }
        .container { display: flex; max-width: 1600px; margin: 0 auto; }
        .sidebar {
            width: 300px;
            position: -webkit-sticky;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            background-color: var(--bg-white);
            border-right: 1px solid var(--border-color);
            padding: 20px;
            flex-shrink: 0;
        }
        .sidebar h3 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }
        .sidebar ul { list-style: none; padding: 0; margin: 0; }
        .sidebar ul li a {
            display: block;
            color: var(--text-dark);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 5px;
            transition: background-color 0.2s, color 0.2s;
            font-size: 0.95em;
        }
        .sidebar ul li a:hover, .sidebar ul li a.active { background-color: #e9ecef; color: #000; }
        .sidebar .sub-menu { padding-left: 20px; font-size: 0.9em; }
        .main-content { flex-grow: 1; padding: 20px 50px; }
        header { border-bottom: 1px solid var(--border-color); margin-bottom: 30px; padding-bottom: 20px; }
        header h1 { font-size: 3em; color: var(--text-dark); margin: 0; }
        header p { font-size: 1.25em; color: var(--secondary-color); }
        section { margin-bottom: 50px; padding-top: 30px; }
        h2 { font-size: 2.2em; color: var(--primary-color); border-bottom: 2px solid #e9ecef; padding-bottom: 15px; margin-top: 0; }
        h3 { font-size: 1.7em; color: #198754; margin-top: 30px; }
        h4 { font-size: 1.3em; color: #fd7e14; margin-top: 25px; }
        strong { color: #dc3545; }
        em { color: #0d6efd; font-style: normal; font-weight: bold; }
        pre, code { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; }
        pre { background-color: var(--code-bg); padding: 18px; border-radius: 6px; overflow-x: auto; border: 1px solid #d1d9e1; font-size: 0.95em; }
        code { background-color: var(--code-bg); padding: 3px 6px; border-radius: 4px; }
        pre code { background-color: transparent; padding: 0; border-radius: 0; }
        blockquote { border-left: 4px solid var(--primary-color); padding-left: 20px; margin: 20px 0; background-color: #f0f6ff; font-style: italic; color: #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        th, td { padding: 14px 18px; border: 1px solid var(--border-color); text-align: left; }
        thead th { background-color: var(--primary-color); color: var(--bg-white); font-weight: bold; }
        tbody tr:nth-child(even) { background-color: var(--bg-light); }
        tbody tr:hover { background-color: #e9ecef; }
        .pro-tip { border: 1px solid #198754; background-color: #f0fff4; border-radius: 5px; padding: 15px; margin: 20px 0; }
        .pro-tip::before { content: "💡 專業提示："; font-weight: bold; color: #198754; }
        .warning { border: 1px solid #fd7e14; background-color: #fff8f0; padding: 15px; margin: 20px 0; }
        .warning::before { content: "⚠️ 注意事項："; font-weight: bold; color: #fd7e14; }
        @media (max-width: 1200px) {
            .container { flex-direction: column; }
            .sidebar { width: 100%; height: auto; position: static; border-right: none; border-bottom: 1px solid var(--border-color); }
            .main-content { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <h3>📖 導覽目錄</h3>
            <ul>
                <li><a href="#intro">導讀：為何成為大師</a></li>
                <li><a href="#part1">第一章：基礎建設</a></li>
                <li><a href="#part2">第二章：初探門徑</a></li>
                <li><a href="#part3">第三章：文件結構與組織</a></li>
                 <ul class="sub-menu">
                    <li><a href="#part3-1">3.1 宏觀結構</a></li>
                    <li><a href="#part3-2">3.2 階層化指令</a></li>
                    <li><a href="#part3-3">3.3 列表的藝術</a></li>
                    <li><a href="#part3-4">3.4 自動化索引</a></li>
                    <li><a href="#part3-5">3.5 標準文件組件</a></li>
                    <li><a href="#part3-6">3.6 大型專案管理</a></li>
                </ul>
                <li><a href="#part4">第四章：數學魔法</a></li>
                <li><a href="#part5">第五章：圖文並茂</a></li>
                <li><a href="#part6">第六章：文獻管理</a></li>
                <li><a href="#part7">第七章：大師之路</a></li>
                <li><a href="#part8">附錄：快速參考</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <header>
                <h1>LaTeX 終極攻略與完整使用手冊</h1>
                <p>一份從入門到精通，涵蓋所有核心功能的實戰指南 (v2.0 結構增強版)。</p>
            </header>

            <section id="intro">
                <h2>導讀：為何要成為 LaTeX 大師？</h2>
                <p>學習 LaTeX 不僅僅是學習一個軟體，更是學習一種專業、嚴謹的學術寫作思維。當您能夠駕馭 LaTeX，您將從繁瑣的格式調整中解放出來，專注於內容創作，並產出無論在美觀度、一致性還是專業性上都無可挑剔的文件。</p>
                <blockquote>這份手冊的目標，是帶您走過這條從新手到大師的完整路徑。每一章都是一個等級的提升，請跟隨指引，開始您的 LaTeX 探索之旅。</blockquote>
            </section>
            
            <section id="part1">
                <h2>第一章：基礎建設 (Lv.1 初心者)</h2>
                 <h3 id="part1-1">1.1 思維轉變：從「所見即所得」到「所想即所得」</h3>
                <p>忘掉 Word 的操作模式。在 LaTeX 中，您是導演，而不是演員。您通過撰寫「劇本」（<code>.tex</code> 檔案）來告訴 LaTeX 引擎如何排演這部「作品」（<code>.pdf</code> 檔案）。</p>
                <ul>
                    <li><strong>關注結構</strong>：您只需定義「這是一級標題」 (<code>\section{...}</code>)，而無需關心它該用多大的字體、距離上面多遠。</li>
                    <li><strong>內容與格式分離</strong>：這確保了整份文件風格的絕對一致。修改一處定義，全文所有相同結構的地方都會自動更新。</li>
                </ul>
                <h3 id="part1-2">1.2 環境選擇：雲端 vs. 本地</h3>
                <h4>雲端方案 (推薦新手)</h4>
                <p><strong>Overleaf</strong> (<a href="https://www.overleaf.com" target="_blank">https://www.overleaf.com</a>) 是您的首選。</p>
                <ul>
                    <li><strong>優點</strong>：無需安裝、自動編譯、海量模板、即時預覽、版本控制、多人協作。</li>
                    <li><strong>缺點</strong>：需要網路連線，免費版專案數量有限制。</li>
                </ul>
                <h4>本地安裝方案 (推薦進階者)</h4>
                <p>當您需要離線工作或處理大型專案時，本地安裝是更好的選擇。</p>
                <ol>
                    <li><strong>安裝發行版 (核心引擎)</strong>:
                        <ul>
                            <li><strong>Windows</strong>: TeX Live (推薦，最完整) 或 MiKTeX (較小，可動態安裝宏包)。</li>
                            <li><strong>macOS</strong>: MacTeX (基於 TeX Live)。</li>
                            <li><strong>Linux</strong>: TeX Live (通常可通過包管理器安裝，如 <code>sudo apt-get install texlive-full</code>)。</li>
                        </ul>
                    </li>
                    <li><strong>安裝編輯器 (寫程式碼的介面)</strong>:
                        <ul>
                            <li><strong>Visual Studio Code + LaTeX Workshop 擴充套件</strong>: 現代、強大、高度客製化，整合預覽、語法檢查和編譯。</li>
                            <li><strong>TeXstudio</strong>: 專為 LaTeX 設計的整合開發環境 (IDE)，內建各種嚮導和符號表，對新手友好。</li>
                        </ul>
                    </li>
                </ol>
            </section>
            
            <section id="part2">
                <h2>第二章：初探門徑 (Lv.2 學徒)</h2>
                <h3 id="part2-1">2.1 文件骨架 (Anatomy of a .tex File)</h3>
                <p>每個 LaTeX 文件都由「前導區」和「正文區」組成。</p>
<pre><code>% --- 前導區 (Preamble) ---
% 這裡是定義全局設定的地方，像是紙張大小、文件類型、要使用的外部功能（宏包）
\documentclass[12pt, a4paper]{article} % 12pt字體, A4紙, article類型
\usepackage{amsmath} % 引入 amsmath 宏包，用於增強數學公式功能

% --- 正文區 (Body) ---
% 這裡是您實際撰寫內容的地方
\begin{document}

\title{My First Document}
\author{Your Name}
\date{\today} % \today 會自動填入編譯當天的日期

\maketitle % 這個指令是必須的，它會將上面定義的標題資訊生成出來

Hello, world! This is the beginning of a beautiful document.

\end{document}
</code></pre>

                <h3 id="part2-2">2.2 編譯的秘密</h3>
                <p>當您點擊「編譯」按鈕時，LaTeX 引擎會執行一系列操作：</p>
                <ol>
                    <li>讀取您的 <code>yourfile.tex</code> 檔案。</li>
                    <li>處理指令，計算排版，生成主要的輸出檔 <code>yourfile.pdf</code>。</li>
                    <li>同時，生成一些輔助檔案：
                        <ul>
                            <li><code>.log</code>: 紀錄詳細的編譯過程和錯誤訊息，<strong>這是偵錯最重要的檔案</strong>。</li>
                            <li><code>.aux</code>: 儲存交叉引用的資訊（如標籤、目錄）。LaTeX 需要讀取此檔來生成正確的引用編號。</li>
                        </ul>
                    </li>
                </ol>
                <div class="pro-tip">這就是為什麼有時候需要編譯兩次：第一次編譯收集引用資訊寫入 <code>.aux</code>，第二次編譯再讀取 <code>.aux</code> 檔案以顯示正確的編號。</div>
            </section>
            
            <section id="part3">
                <h2>第三章：文件結構與組織 (Lv.3 撰稿人)</h2>
                <p>本章節深入探討如何使用 LaTeX 的指令來組織一份從簡單文章到複雜書籍的任何文件。</p>

                <h3 id="part3-1">3.1 宏觀結構：文件類型與書籍結構</h3>
                <h4>常見文件類型 (Document Class)</h4>
                 <ul>
                    <li><code>article</code>: 短文、學術期刊論文、報告。最基本的文件類型。</li>
                    <li><code>report</code>: 較長的文件，如學士或碩士論文。與 article 的主要區別是它支援 <code>\chapter</code> 指令，且預設為單面排版。</li>
                    <li><code>book</code>: 書籍。支援 <code>\chapter</code>，預設為雙面排版，並提供更完整的書籍結構指令。</li>
                    <li><code>beamer</code>: 製作學術簡報 (PPT)。其結構指令與前三者有很大不同。</li>
                </ul>

                <h4>書籍/報告的專業結構指令</h4>
                <p>對於 <code>book</code> 和 <code>report</code> 類型，您可以使用以下指令來區分文件的不同部分：</p>
                <ul>
                    <li><code>\frontmatter</code>: 用於書籍的前言部分（如致謝、目錄、序言）。此指令會將頁碼切換為羅馬數字 (i, ii, iii...)，且章節不會被編號。</li>
                    <li><code>\mainmatter</code>: 用於書籍的正文部分。此指令會重置頁碼並切換為阿拉伯數字 (1, 2, 3...)，章節也會開始正常編號。</li>
                    <li><code>\backmatter</code>: 用於書籍的後記部分（如附錄、參考文獻、索引）。章節通常不會被編號，但頁碼會繼續。</li>
                </ul>
<pre><code>\documentclass{book}
\begin{document}
\frontmatter
\chapter{Acknowledgements} % 顯示為 "Acknowledgements", 不編號
\tableofcontents

\mainmatter
\chapter{Introduction} % 顯示為 "Chapter 1: Introduction"
...

\backmatter
\appendix
\chapter{Data Tables} % 附錄章節
\end{document}</code></pre>

                <h3 id="part3-2">3.2 階層化指令 (Sectioning Commands)</h3>
                <p>LaTeX 提供了一套完整的階層指令來組織您的內容。它們會自動編號並出現在目錄中。</p>
                <table>
                    <thead><tr><th>指令</th><th>階層等級</th><th>適用文件類型</th></tr></thead>
                    <tbody>
                        <tr><td><code>\part{...}</code></td><td>0</td><td>所有</td></tr>
                        <tr><td><code>\chapter{...}</code></td><td>1</td><td>book, report</td></tr>
                        <tr><td><code>\section{...}</code></td><td>2</td><td>所有</td></tr>
                        <tr><td><code>\subsection{...}</code></td><td>3</td><td>所有</td></tr>
                        <tr><td><code>\subsubsection{...}</code></td><td>4</td><td>所有</td></tr>
                        <tr><td><code>\paragraph{...}</code></td><td>5</td><td>所有</td></tr>
                        <tr><td><code>\subparagraph{...}</code></td><td>6</td><td>所有</td></tr>
                    </tbody>
                </table>
                <div class="pro-tip">預設情況下，<code>\paragraph</code> 和 <code>\subparagraph</code> 的標題會跟隨文字顯示在同一行。若要讓它們獨立成行，需要修改文件類型的定義，這屬於進階客製化。</div>
                
                <h3 id="part3-3">3.3 列表的藝術 (The Art of Lists)</h3>
                <h4>標準列表環境</h4>
                <ul>
                    <li><strong>itemize</strong>: 項目符號列表。</li>
                    <li><strong>enumerate</strong>: 編號列表。</li>
                    <li><strong>description</strong>: 描述性列表，適合用於術語定義。</li>
                </ul>
<pre><code>\begin{description}
    \item[LaTeX] A high-quality typesetting system.
    \item[BibTeX] A tool for managing references in LaTeX.
\end{description}</code></pre>

                <h4>客製化列表</h4>
                <p>您可以輕鬆地客製化列表的標籤。</p>
                <ul>
                    <li><strong>手動修改單項標籤</strong>: 在 <code>\item</code> 後加上 <code>[...]</code>。</li>
<pre><code>\begin{itemize}
    \item[+] The first item.
    \item[-] The second item.
\end{itemize}</code></pre>
                    <li><strong>全局修改編號樣式</strong>: 在前導區使用 <code>\renewcommand</code>。需要 <code>enumitem</code> 宏包可以更方便地做到。</li>
<pre><code>% 在前導區加入
\renewcommand{\labelenumi}{\alph{enumi})} % 將第一層編號改為 a), b), ...
\renewcommand{\labelenumii}{(\roman{enumii})} % 將第二層編號改為 (i), (ii), ...

% 在正文使用
\begin{enumerate}
    \item Level one, item one.
    \begin{enumerate}
        \item Level two, item one.
    \end{enumerate}
\end{enumerate}
</code></pre>
                
                <h3 id="part3-4">3.4 自動化索引 (Automated Lists)</h3>
                <p>在您的文件中放置以下指令，LaTeX 會在每次編譯時自動生成並更新對應的列表。</p>
                <ul>
                    <li><code>\tableofcontents</code>: 生成目錄。</li>
                    <li><code>\listoffigures</code>: 生成圖目錄。</li>
                    <li><code>\listoftables</code>: 生成表目錄。</li>
                </ul>
                <div class="warning">這些指令通常需要至少兩次編譯才能獲得正確的頁碼。第一次收集資訊，第二次生成列表。</div>

                <h3 id="part3-5">3.5 標準文件組件 (Standard Document Components)</h3>
                <h4>摘要 (Abstract)</h4>
                <p>對於 <code>article</code> 和 <code>report</code>，可以使用 <code>abstract</code> 環境來創建摘要。</p>
<pre><code>\begin{abstract}
This paper presents a comprehensive guide to LaTeX...
\end{abstract}</code></pre>

                <h4>附錄 (Appendix)</h4>
                <p>使用 <code>\appendix</code> 指令來標記附錄部分的開始。此指令會將章節的編號方式從數字改為大寫字母 (A, B, C...)。</p>
<pre><code>... % 正文結束

\appendix
\section{Derivation of the Formula}
The derivation is as follows...
</code></pre>

                <h3 id="part3-6">3.6 大型專案管理：模組化文件</h3>
                <p>當您撰寫論文或書籍時，將所有內容放在一個巨大的 <code>.tex</code> 檔案中是災難的開始。您應該將每一章或每一節拆分成獨立的 <code>.tex</code> 檔案，然後在主文件中將它們組合起來。</p>
                <h4>\input vs. \include</h4>
                <p>兩者都可以引入外部檔案，但有重要區別：</p>
                <ul>
                    <li><code>\input{filename}</code>: <strong>直接嵌入</strong>。如同將 <code>filename.tex</code> 的內容複製貼上到當前位置。它更輕量、直接。</li>
                    <li><code>\include{filename}</code>: <strong>智慧引入</strong>。它會在引入檔案前執行 <code>\clearpage</code> (另起一頁)，並且會為每個被 `include` 的檔案創建獨立的 <code>.aux</code> 輔助檔案。</li>
                </ul>
                <div class="pro-tip">
                    <strong>何時使用？</strong><br>
                    - 對於書籍的<strong>章節</strong>，請使用 <code>\include</code>。它的最大好處是，您可以在前導區使用 <code>\includeonly{chap2,chap4}</code> 指令，這樣在編譯時 LaTeX 只會處理第 2 章和第 4 章的內容，但依然會保留所有章節的正確引用編號和頁碼。這在修改大型文件的某一章時，可以極大地加快編譯速度。<br>
                    - 對於一些較小的、不需要獨立分頁的部分（例如一個共享的表格、一些自訂的命令定義），請使用 <code>\input</code>。
                </div>
<pre><code>% --- main.tex ---
\documentclass{book}
% \includeonly{chapters/introduction} % 只編譯引言，以加速
\begin{document}
\frontmatter
...

\mainmatter
\include{chapters/introduction}
\include{chapters/methodology}
\include{chapters/results}

\backmatter
...
\end{document}
</code></pre>
            </section>
            
            <section id="part4">
                <h2>第四章：數學魔法 (Lv.4 數學家)</h2>
                <h3 id="part4-1">4.1 數學環境</h3>
                <ul>
                    <li><strong>行內公式</strong>: <code>$ ... $</code>，將公式嵌入文字中，例如：$E=mc^2$。</li>
                    <li><strong>展示公式 (無編號)</strong>: <code>\[ ... \]</code> 或 <code>\begin{equation*} ... \end{equation*}</code>。</li>
                    <li><strong>展示公式 (有編號)</strong>: <code>\begin{equation} ... \end{equation}</code>。</li>
                </ul>
                <h3 id="part4-2">4.2 符號大全</h3>
                <table>
                    <thead><tr><th>類型</th><th>範例</th><th>程式碼</th></tr></thead>
                    <tbody>
                        <tr><td>上下標</td><td>$x_i^2$, $e^{i\pi}$</td><td><code>$x_i^2$</code>, <code>$e^{i\pi}$</code></td></tr>
                        <tr><td>分數</td><td>$\frac{a+b}{c}$</td><td><code>$\frac{a+b}{c}$</code></td></tr>
                        <tr><td>根號</td><td>$\sqrt{2}$, $\sqrt[n]{x}$</td><td><code>$\sqrt{2}$</code>, <code>$\sqrt[n]{x}$</code></td></tr>
                        <tr><td>希臘字母</td><td>$\alpha, \beta, \gamma, \Pi, \Omega$</td><td><code>$\alpha, \beta, \gamma, \Pi, \Omega$</code></td></tr>
                        <tr><td>關係運算子</td><td>$\le, \ge, \ne, \approx, \equiv$</td><td><code>$\le, \ge, \ne, \approx, \equiv$</code></td></tr>
                        <tr><td>二元運算子</td><td>$\pm, \times, \div, \cdot, \oplus$</td><td><code>$\pm, \times, \div, \cdot, \oplus$</code></td></tr>
                        <tr><td>大型運算子</td><td>$\sum_{i=1}^N, \int_a^b, \lim_{x\to 0}$</td><td><code>$\sum_{i=1}^N, \int_a^b, \lim_{x\to 0}$</code></td></tr>
                        <tr><td>可伸縮括號</td><td>$\left( \frac{A}{B} \right)$</td><td><code>$\left( \frac{A}{B} \right)$</code></td></tr>
                    </tbody>
                </table>
                <h3 id="part4-3">4.3 矩陣與多行公式</h3>
                <h4>對齊的多行公式 (align)</h4>
<pre><code>\begin{align}
E &= mc^2 \label{eq:einstein} \\
f(x) &= x^2 + 2x + 1 \nonumber \\ % \nonumber 取消本行編號
     &= (x+1)^2
\end{align}</code></pre>
                <div class="pro-tip"><code>&</code> 是對齊的錨點。在 <code>=</code>, <code>\le</code> 等關係符號前放置 <code>&</code> 可以讓多行公式在此對齊。</div>
                <h4>矩陣 (amsmath)</h4>
<pre><code>A = \begin{pmatrix} a & b \\ c & d \end{pmatrix} % 小括號矩陣
B = \begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix} % 中括號矩陣
C = \begin{vmatrix} x & y \\ z & w \end{vmatrix} % 行列式
</code></pre>
                <h3 id="part4-4">4.4 在公式中加入文字與公式編號</h3>
                <ul>
                    <li><strong>在公式中插入文字</strong>: 使用 <code>\text{...}</code>。
<pre><code>$ a^2 + b^2 = c^2 \quad \text{for a right-angled triangle} $</code></pre>
                    </li>
                    <li><strong>引用公式</strong>: 使用 <code>\label{eq:標籤名}</code> 和 <code>\eqref{eq:標籤名}</code> (<code>\eqref</code> 會自動加上括號)。
<pre><code>From \eqref{eq:einstein}, we can see the relationship...</code></pre>
                    </li>
                </ul>
            </section>
            
            <section id="part5">
                <h2>第五章：圖文並茂 (Lv.5 設計師)</h2>
                <h3 id="part5-1">5.1 浮動體奧義 (Understanding Floats)</h3>
                <p><code>figure</code> 和 <code>table</code> 環境被稱為「浮動體」。LaTeX 不會將它們嚴格放在您指定的位置，而是會根據頁面排版的美學原則，自動尋找一個「最優」的位置（如頁首、頁尾或單獨一頁）。</p>
                <div class="warning">新手最大的挫折來源於試圖與浮動體機制對抗。學會接受並利用它，而不是強迫它。</div>
                <p>位置參數 <code>[htbp!]</code>:</p>
                <ul>
                    <li><code>h</code>: here (這裡) - 盡量放在當前位置。</li>
                    <li><code>t</code>: top (頁頂)。</li>
                    <li><code>b</code>: bottom (頁底)。</li>
                    <li><code>p</code>: page (單獨一頁)。</li>
                    <li><code>!</code>: 強制執行，忽略大部分的美學限制。</li>
                </ul>
                <div class="pro-tip">使用 <code>[htbp]</code> 是最常見的組合，給予 LaTeX 最大的靈活性。如果圖片位置非常重要，可以考慮使用 <code>[H]</code> (需要 <code>float</code> 宏包)，但這會破壞排版流，請謹慎使用。</div>
                <h3 id="part5-2">5.2 圖像完全指南</h3>
                <h4>基本插入</h4>
<pre><code>\begin{figure}[htbp]
    \centering % 圖片置中
    \includegraphics[width=0.8\textwidth]{images/my_plot.pdf}
    \caption{A demonstration of a beautiful plot.}
    \label{fig:my_plot}
\end{figure}</code></pre>
                <p><code>\includegraphics</code> 選項: <code>width</code>, <code>height</code>, <code>scale=0.5</code>, <code>angle=90</code>。</p>
                <h4>子圖 (Subfigures)</h4>
                <p>需要 <code>subcaption</code> 宏包。</p>
<pre><code>\begin{figure}[htbp]
    \centering
    \begin{subfigure}[b]{0.45\textwidth}
        \includegraphics[width=\textwidth]{image_a.png}
        \caption{First subfigure}
        \label{fig:a}
    \end{subfigure}
    \hfill % 水平填滿空間
    \begin{subfigure}[b]{0.45\textwidth}
        \includegraphics[width=\textwidth]{image_b.png}
        \caption{Second subfigure}
        \label{fig:b}
    \end{subfigure}
    \caption{Two subfigures side by side.}
    \label{fig:two_figs}
\end{figure}</code></pre>
                <h3 id="part5-3">5.3 專業級表格</h3>
                <p>使用 <code>booktabs</code> 宏包可以創建更專業、美觀的三線表。</p>
<pre><code>\begin{table}[htbp]
    \centering
    \caption{Comparison of different models.}
    \label{tab:models}
    \begin{tabular}{l c c r} % l-左對齊, c-置中, r-右對齊
        \toprule % booktabs: 頂線
        Model Name & Accuracy (\%) & Precision & Parameters (M) \\
        \midrule % booktabs: 中線
        Model A & 95.2 & 0.94 & 12.5 \\
        Model B & 97.1 & 0.96 & 25.1 \\
        \bottomrule % booktabs: 底線
    \end{tabular}
\end{table}</code></pre>
                <h3 id="part5-4">5.4 交叉引用</h3>
                <p>交叉引用是 LaTeX 的核心優勢。您永遠不需要手動編號。</p>
                <ul>
                    <li><code>\label{標籤}</code>: 為任何可編號的對象（章節、圖、表、公式）設定一個獨一無二的標籤。</li>
                    <li><code>\ref{標籤}</code>: 引用該對象的編號。</li>
                    <li><code>\pageref{標籤}</code>: 引用該對象所在的頁碼。</li>
                    <li><code>\eqref{標籤}</code>: 專門引用公式編號，會自動加上括號。</li>
                </ul>
                <p>範例：<code>As shown in Figure \ref{fig:my_plot} on page \pageref{fig:my_plot}, the results confirm the hypothesis from Equation \eqref{eq:einstein}.</code></p>
            </section>
            
            <section id="part6">
                <h2>第六章：文獻管理 (Lv.6 學者)</h2>
                <h3 id="part6-1">6.1 BibTeX 工作流程</h3>
                <ol>
                    <li><strong>建立資料庫</strong>: 創建一個 <code>.bib</code> 檔案 (如 <code>my_references.bib</code>)，並從 Google Scholar, Zotero 等工具匯入 BibTeX 格式的文獻條目。
<pre><code>@article{einstein1905,
  author  = {Albert Einstein},
  title   = {{Zur Elektrodynamik bewegter Körper}},
  journal = {Annalen der Physik},
  volume  = {322},
  number  = {10},
  pages   = {891--921},
  year    = {1905}
}</code></pre>
                    </li>
                    <li><strong>在主文件中引用</strong>: 在前導區設定風格，在正文引用，在文末生成列表。
<pre><code>% In your main .tex file
...
Einstein's theory of relativity \cite{einstein1905} changed physics.
...
\bibliographystyle{apalike} % 設定引用風格
\bibliography{my_references} % 告訴LaTeX去讀取哪個 .bib 檔案
\end{document}</code></pre>
                    </li>
                    <li><strong>完整編譯流程</strong>: <code>pdflatex</code> -> <code>bibtex</code> -> <code>pdflatex</code> -> <code>pdflatex</code>。Overleaf 會自動處理，本地用戶需要確保執行了完整的編譯鏈。</li>
                </ol>
                <h3 id="part6-2">6.2 常見引用風格 (Bibliography Styles)</h3>
                <ul>
                    <li><code>plain</code>: 按作者字母排序，文中标註為 `[1]`。</li>
                    <li><code>unsrt</code>: 按引用順序排序，文中标註為 `[1]`。</li>
                    <li><code>alpha</code>: 按作者字母排序，文中标註為 `[Ein05]`。</li>
                    <li><code>apalike</code>: APA 風格，文中标註為 `(Einstein, 1905)`。</li>
                    <li>更多風格 (如 `ieeetr`, `siam`) 可滿足不同期刊要求。</li>
                </ul>
                <h3 id="part6-3">6.3 現代方案：BibLaTeX</h3>
                <div class="pro-tip">BibLaTeX + Biber 是 BibTeX 的現代替代品，功能更強大、客製化更容易、對 UTF-8 支援更好。對於新專案，特別是需要複雜引用格式的，強烈推薦學習使用。</div>
<pre><code>% Preamble
\usepackage[backend=biber, style=apa]{biblatex}
\addbibresource{my_references.bib} % 注意指令不同

% End of document
\printbibliography % 注意指令不同
</code></pre>
            </section>

            <section id="part7">
                <h2>第七章：大師之路 (Lv.7 大師)</h2>
                <h3 id="part7-1">7.1 自訂命令與環境</h3>
                <h4>自訂命令</h4>
                <p>使用 <code>\newcommand</code> 來簡化重複輸入，提高效率和可維護性。</p>
<pre><code>% 無參數命令
\newcommand{\R}{\mathbb{R}} % 需要 amsfonts 或 amssymb 宏包
% Now you can type $\R$ to get the real number symbol

% 有參數命令
\newcommand{\ket}[1]{|#1\rangle}
% Now you can type $\ket{\psi}$ for quantum state vectors</code></pre>
                <h4>自訂環境</h4>
                <p>使用 <code>\newenvironment</code> 來創建自己的區塊。</p>
<pre><code>\newenvironment{proof}[1][Proof]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

% Usage:
\begin{proof}[My Custom Proof]
The proof is trivial and left as an exercise for the reader.
\end{proof}
</code></pre>
                <h3 id="part7-2">7.2 偵錯心法 (Debugging)</h3>
                <p>遇到錯誤不要慌，這是成為大師的必經之路。</p>
                <ol>
                    <li><strong>讀取錯誤訊息</strong>: Overleaf 會在 log 中高亮第一條錯誤。本地編輯器也會定位到錯誤行。<strong>永遠先處理第一個錯誤</strong>，後面的錯誤很可能是由第一個引起的。</li>
                    <li><strong>常見錯誤類型</strong>:
                        <ul>
                            <li><code>Undefined control sequence</code>: 命令拼錯或忘記載入對應的宏包。</li>
                            <li><code>Missing } inserted</code>: 某處少了一個右大括號 <code>}</code>。</li>
                            <li><code>Missing $ inserted</code>: 在數學環境外使用了數學指令。</li>
                            <li><code>Paragraph ended before \somecommand was complete</code>: 某個需要參數的指令後面跟了空行。</li>
                            <li><code>File `...` not found</code>: 圖片或 <code>.bib</code> 檔案的路徑或名稱不對。</li>
                        </ul>
                    </li>
                    <li><strong>二分法註解</strong>: 如果找不到錯誤，將文件內容一半註解掉 (用 <code>%</code> 或 <code>\begin{comment} ... \end{comment}</code> 環境)，重新編譯。如果錯誤消失，說明問題在被註解掉的部分，反之亦然。重複此過程直到定位到問題行。</li>
                </ol>
                <h3 id="part7-3">7.3 推薦工作流程</h3>
                <ol>
                    <li><strong>模組化文件</strong>: 對於長文檔（如論文），使用 <code>\input{chapters/chapter1.tex}</code> 或 <code>\include{chapters/chapter1.tex}</code> 將主文件和各章節分開，保持結構清晰。</li>
                    <li><strong>版本控制</strong>: 使用 Git 進行版本控制。Overleaf 內建了歷史紀錄，本地專案則強烈建議使用 Git + GitHub/GitLab。</li>
                    <li><strong>保持整潔</strong>: 將圖片放在 <code>images</code> 子目錄，<code>.bib</code> 檔案放在 <code>bib</code> 子目錄，保持根目錄乾淨。</li>
                </ol>
            </section>
            
            <section id="part8">
                <h2>附錄：快速參考 (Quick Reference)</h2>
                 <table>
                    <thead>
                        <tr>
                            <th>分類</th>
                            <th>指令/範例</th>
                            <th>說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>結構</td><td><code>\documentclass{...}</code>, <code>\usepackage{...}</code></td><td>設定文件類型與載入宏包</td></tr>
                        <tr><td>章節</td><td><code>\section{...}</code>, <code>\subsection{...}</code></td><td>定義各級標題</td></tr>
                        <tr><td>文字</td><td><code>\textbf{...}</code>, <code>\textit{...}</code>, <code>\texttt{...}</code></td><td>粗體、斜體、打字機字體</td></tr>
                        <tr><td>列表</td><td><code>\begin{itemize}...\end{itemize}</code>, <code>\begin{enumerate}...\end{enumerate}</code></td><td>項目列表與編號列表</td></tr>
                        <tr><td>數學模式</td><td><code>$...$</code>, <code>\[...\]</code>, <code>\begin{align}...\end{align}</code></td><td>行內、展示、對齊公式</td></tr>
                        <tr><td>圖片</td><td><code>\includegraphics[width=...]{...}</code></td><td>插入圖片，需 <code>graphicx</code> 宏包</td></tr>
                        <tr><td>表格</td><td><code>\begin{tabular}{...}...\end{tabular}</code>, <code>\toprule</code></td><td>基本表格與三線表 (需 <code>booktabs</code>)</td></tr>
                        <tr><td>浮動體</td><td><code>\begin{figure}...\end{figure}</code>, <code>\begin{table}...\end{table}</code></td><td>圖與表的容器</td></tr>
                        <tr><td>標籤</td><td><code>\label{...}</code>, <code>\ref{...}</code>, <code>\eqref{...}</code></td><td>設定與引用標籤</td></tr>
                        <tr><td>文獻</td><td><code>\cite{...}</code>, <code>\bibliography{...}</code>, <code>\bibliographystyle{...}</code></td><td>BibTeX 引用流程</td></tr>
                        <tr><td>間距</td><td><code>\quad</code>, <code>\hspace{...}</code>, <code>\vspace{...}</code></td><td>手動調整間距</td></tr>
                        <tr><td>中文</td><td><code>\usepackage[UTF8]{ctex}</code></td><td>中文排版最佳方案</td></tr>
                    </tbody>
                </table>
                <div class="pro-tip">這份手冊是您旅程的開始。真正的精通來自於不斷的實踐、除錯和探索。祝您排版愉快！</div>
            </section>
        </main>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('section');
            const navLi = document.querySelectorAll('.sidebar ul li a');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLi.forEach(a => {
                            a.classList.remove('active');
                            if (a.getAttribute('href').includes(entry.target.id)) {
                                a.classList.add('active');
                            }
                        });
                    }
                });
            }, { threshold: 0.3, rootMargin: '0px 0px -50% 0px' });

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>